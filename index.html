<!DOCTYPE html>
<html lang="id">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>TEST KOSA KATA</title>

<style>
*{box-sizing:border-box}
html,body{height:100%;margin:0}
body{
  font-family:'Segoe UI',Arial,sans-serif;
  background:url('https://raw.githubusercontent.com/airnetcso/eps/main/image/bg1.jpg') center/cover fixed;
  display:flex;align-items:center;justify-content:center;
  color:#fff;position:relative
}
body::before{
  content:'';position:absolute;inset:0;
  background:rgba(0,0,0,.35)
}
.container{
  position:relative;z-index:2;
  width:80%;max-width:420px;
  padding:36px 28px;
  background:rgba(255,255,255,.18);
  backdrop-filter:blur(18px);
  border-radius:26px;
  box-shadow:0 20px 50px rgba(0,0,0,.45);
  border:1px solid rgba(255,255,255,.25);
  overflow:hidden
}
h1{text-align:center;margin-bottom:26px}
input,button{
  width:100%;height:54px;
  border-radius:14px;
  font-size:16px
}
input{
  padding:0 16px;
  margin-bottom:14px;
  border:1.5px solid rgba(255,255,255,.4);
  background:rgba(255,255,255,.15);
  color:#fff
}
input::placeholder{color:rgba(255,255,255,.75)}
button{
  border:none;font-weight:700;
  cursor:pointer;color:#fff;
  background:linear-gradient(90deg,#10b981,#059669)
}
.error{color:#fecaca;text-align:center;margin-bottom:12px}
.hidden{display:none}
#timer{
  text-align:center;font-size:26px;
  margin-bottom:14px;font-weight:bold;
  background:rgba(220,38,38,.25);
  padding:10px;border-radius:12px
}
.progress{height:10px;background:rgba(255,255,255,.2);border-radius:6px;overflow:hidden}
.progress-bar{height:100%;width:0%;background:linear-gradient(90deg,#10b981,#059669)}
.question strong{display:block;text-align:center;font-size:40px;margin:30px 0}
.footer{position:absolute;bottom:18px;font-size:14px;z-index:2}
</style>
</head>

<body>

<div class="container" id="loginPage">
  <h1>TEST KOSA KATA</h1>
  <input id="username" placeholder="Username / 이름">
  <input id="password" type="password" placeholder="Password / 비밀번호">
  <input id="kodeSoal" placeholder="Kode Test / 시험코드">
  <div class="error" id="errorMsg"></div>
  <button onclick="login()">MULAI / 시작</button>
</div>

<div class="container hidden" id="quizPage">
  <h1>TEST KOSA KATA</h1>
  <div id="timer">50:00</div>
  <div class="progress"><div class="progress-bar" id="progressBar"></div></div>
  <div id="questionArea">
    <div class="question"><strong id="currentWord"></strong></div>
    <input id="answerInput" placeholder="Jawaban">
    <button onclick="submitAnswer()">SUBMIT</button>
  </div>
  <div id="resultArea" class="hidden">
    <h2>Hasil Test</h2>
    <p id="scoreText"></p>
    <button onclick="location.reload()">ULANGI</button>
  </div>
</div>

<div class="footer">© 2026 Denzuka - Kim Jongun. All Rights Reserved.</div>

<script>
/* ===== USER LIST ===== */
const users=[
 {username:"user1",password:"12345"},
 {username:"hanarizka",password:"Nungkihana24!"},
 {username:"user3",password:"12345"},
 {username:"siswa01",password:"12345"},
 {username:"windi",password:"Windi2000"},
 {username:"rismaya97",password:"bahasakorea"},
 {username:"admin",password:"admin123",role:"admin"},
 {username:"sita77",password:"minyooki"},
 {username:"Aini185",password:"Doraemon"},
 {username:"Hangeulfei",password:"studykorea02"},
 {username:"Hamdan106",password:"Fukuo106"}
];

/* ===== KODE SOAL ===== */
const kodeMapping={
 "H29976":"soal1.json",
 "R43213":"soal2.json",
 "Z21985":"soal3.json"
};

let questions=[],i=0,score=0,timeLeft=3000,timer;

/* ===== LOGIN ===== */
function login(){
 const u=username.value.trim();
 const p=password.value.trim();
 const k=kodeSoal.value.trim().toUpperCase();
 errorMsg.textContent="";
 if(!u||!p||!k){errorMsg.textContent="Lengkapi semua kolom";return}
 const user=users.find(x=>x.username===u&&x.password===p);
 if(!user){errorMsg.textContent="Username / password salah";return}
 if(user.role==="admin"){location.href="admin.html";return}
 if(!kodeMapping[k]){errorMsg.textContent="Kode test tidak valid";return}

 fetch(kodeMapping[k]).then(r=>r.json()).then(d=>{
  questions=d;
  loginPage.classList.add("hidden");
  quizPage.classList.remove("hidden");
  startQuiz();
 }).catch(()=>errorMsg.textContent="Soal tidak ditemukan");
}

/* ===== QUIZ ===== */
function startQuiz(){
 i=0;score=0;timeLeft=3000;
 updateTimer();
 timer=setInterval(()=>{
  timeLeft--;updateTimer();
  if(timeLeft<=0)finish();
 },1000);
 next();
}
function updateTimer(){
 const m=String(Math.floor(timeLeft/60)).padStart(2,"0");
 const s=String(timeLeft%60).padStart(2,"0");
 timer.textContent=`${m}:${s}`;
}
function next(){
 if(i>=questions.length){finish();return}
 currentWord.textContent=questions[i].korea;
 answerInput.value="";
}
function submitAnswer(){
 if(answerInput.value.trim().toLowerCase()===questions[i].indo.toLowerCase())score++;
 i++;
 progressBar.style.width=(i/questions.length*100)+"%";
 next();
}
function finish(){
 clearInterval(timer);
 questionArea.classList.add("hidden");
 resultArea.classList.remove("hidden");
 scoreText.textContent=`Skor ${score}/${questions.length}`;
}
</script>

</body>
</html>


